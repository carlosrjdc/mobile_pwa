(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{6089:function(e,t,r){Promise.resolve().then(r.bind(r,4337))},699:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(4090),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,i=n.useEffect,o=n.useLayoutEffect,d=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var c=void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),s=n[0].inst,c=n[1];return o(function(){s.value=r,s.getSnapshot=t,l(s)&&c({inst:s})},[e,r,t]),i(function(){return l(s)&&c({inst:s}),e(function(){l(s)&&c({inst:s})})},[e]),d(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},220:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(4090),s=r(2362),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=s.useSyncExternalStore,o=n.useRef,d=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var u=o(null);if(null===u.current){var f={hasValue:!1,value:null};u.current=f}else f=u.current;var m=i(e,(u=l(function(){function e(e){if(!d){if(d=!0,i=e,e=n(e),void 0!==s&&f.hasValue){var t=f.value;if(s(t,e))return o=t}return o=e}if(t=o,a(i,e))return t;var r=n(e);return void 0!==s&&s(t,r)?t:(i=e,o=r)}var i,o,d=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,s]))[0],u[1]);return d(function(){f.hasValue=!0,f.value=m},[m]),c(m),m}},2362:function(e,t,r){"use strict";e.exports=r(699)},9292:function(e,t,r){"use strict";e.exports=r(220)},575:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(3827),s=r(4090),a=r(9143),i=r(7742),o=r(2169);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:l=!1,...c}=e,u=l?a.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(d({variant:s,size:i,className:r})),ref:t,...c})});l.displayName="Button"},5671:function(e,t,r){"use strict";r.d(t,{SZ:function(){return d},Zb:function(){return i},aY:function(){return l},ll:function(){return o}});var n=r(3827),s=r(4090),a=r(2169);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});l.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},3929:function(e,t,r){"use strict";r.d(t,{OX:function(){return m},P1:function(){return u},Qz:function(){return d},dy:function(){return o},iI:function(){return p},sc:function(){return f},u6:function(){return h},uh:function(){return c},ze:function(){return x}});var n=r(3827),s=r(4090),a=r(9484),i=r(2169);let o=e=>{let{shouldScaleBackground:t=!0,...r}=e;return(0,n.jsx)(a.d.Root,{shouldScaleBackground:t,...r})};o.displayName="Drawer";let d=a.d.Trigger,l=a.d.Portal,c=a.d.Close,u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.d.Overlay,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80",r),...s})});u.displayName=a.d.Overlay.displayName;let f=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,n.jsxs)(l,{children:[(0,n.jsx)(u,{}),(0,n.jsxs)(a.d.Content,{ref:t,className:(0,i.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",r),...o,children:[(0,n.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),s]})]})});f.displayName="DrawerContent";let m=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,i.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...r})};m.displayName="DrawerHeader";let x=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,i.cn)("mt-auto flex flex-col gap-2 p-4",t),...r})};x.displayName="DrawerFooter";let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.d.Title,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});p.displayName=a.d.Title.displayName;let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.d.Description,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});h.displayName=a.d.Description.displayName},2782:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(3827),s=r(4090),a=r(2169);let i=s.forwardRef((e,t)=>{let{texto:r,className:s,type:i,...o}=e;return(0,n.jsxs)("div",{className:"flex focus-visible:p-2 focus:p-2 items-center gap-2 h-14 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[(0,n.jsx)("div",{className:"font-bold",children:r}),(0,n.jsx)("input",{type:i,className:(0,a.cn)("selection:animate-none text-center align-middle justify-center file:text-center file:justify-center file:items-center outline-none w-full h-12 file:bg-lime-200",s),ref:t,...o})]})});i.displayName="Input"},2647:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(3827),s=r(4090),a=r(4602),i=r(7742),o=r(2169);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,o.cn)(d(),r),...s})});l.displayName=a.f.displayName},5453:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(3827),s=r(4090),a=r(1014),i=r(2169);let o=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:o=!0,...d}=e;return(0,n.jsx)(a.f,{ref:t,decorative:o,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...d})});o.displayName=a.f.displayName},326:function(e,t,r){"use strict";r.d(t,{Ei:function(){return v},FF:function(){return j},Tu:function(){return h},aM:function(){return c},bC:function(){return g},sw:function(){return u},ue:function(){return p},yo:function(){return l}});var n=r(3827),s=r(4090),a=r(2936),i=r(7742),o=r(2235),d=r(2169);let l=a.fC,c=a.xz,u=a.x8,f=a.h_,m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});m.displayName=a.aV.displayName;let x=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=s.forwardRef((e,t)=>{let{side:r="right",className:s,children:i,...l}=e;return(0,n.jsxs)(f,{children:[(0,n.jsx)(m,{}),(0,n.jsxs)(a.VY,{ref:t,className:(0,d.cn)(x({side:r}),s),...l,children:[i,(0,n.jsxs)(a.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=a.VY.displayName;let h=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};h.displayName="SheetHeader";let j=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};j.displayName="SheetFooter";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold text-foreground",r),...s})});g.displayName=a.Dx.displayName;let v=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",r),...s})});v.displayName=a.dk.displayName},9497:function(e,t,r){"use strict";r.d(t,{SP:function(){return l},dr:function(){return d},mQ:function(){return o},nU:function(){return c}});var n=r(3827),s=r(4090),a=r(1552),i=r(2169);let o=a.fC,d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...s})});d.displayName=a.aV.displayName;let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...s})});l.displayName=a.xz.displayName;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(a.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});c.displayName=a.VY.displayName},2169:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(3167),s=r(1367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},4337:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var n=r(3827),s=r(9497),a=r(7246),i=r(5671),o=r(2647),d=r(7731),l=r(2782),c=r(5453),u=r(326),f=r(489),m=r(7976),x=r(4090),p=r(6688);async function h(e,t,r,n){let s=await (0,p.U2)("sincronizacaoContagem");if(s){let a=s.map(s=>s.id===e?{...s,lote:t,caixas:r,unidade:n}:s);(0,p.Vx)("sincronizacaoContagem",()=>a)}}function j(e){let{demandaId:t,id:r,endereco:s,sku:i,empresa:o,descricao:d,lote:p,quantidade:j,unidade:g,children:v}=e,[b,y]=(0,x.useState)(p),[N,w]=(0,x.useState)(j),[E,S]=(0,x.useState)(g),D=(0,a.bf)(e=>e.REMOVE_PRODUTO),C=(0,a.bf)(e=>e.UPDATE_PRODUTO);return(0,n.jsx)("div",{className:"flex relative",children:(0,n.jsxs)(u.yo,{children:[(0,n.jsx)(u.aM,{asChild:!0,children:v}),(0,n.jsxs)(u.ue,{side:"top",children:[(0,n.jsxs)(u.Tu,{className:"bg-secondary flex flex-col justify-center items-center mt-2 rounded py-2",children:[(0,n.jsx)(u.bC,{className:"uppercase",children:"Editar Item"}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(u.bC,{className:"uppercase",children:d})]}),(0,n.jsx)("div",{className:"px-2 py-4 border rounded",children:(0,n.jsxs)("div",{className:"grid gap-1",children:[(0,n.jsx)("div",{className:"grid items-center gap-4 ",children:(0,n.jsx)(l.I,{disabled:!0,texto:"SKU:",id:"sku",defaultValue:i,className:"col-span-3 font-semibold"})}),(0,n.jsx)("div",{className:"grid items-center gap-2",children:(0,n.jsx)(l.I,{texto:"LOTE:",onChange:e=>y(e.target.value),id:"lote",defaultValue:b,className:"col-span-3 font-semibold"})}),(0,n.jsxs)("div",{className:"grid items-center gap-2",children:[(0,n.jsx)(l.I,{texto:"CAIXAS:",onChange:e=>w(parseInt(e.target.value)),id:"quantidade",defaultValue:N,className:"col-span-3 font-semibold"}),(0,n.jsx)(l.I,{texto:"UNIDADES:",onChange:e=>S(parseInt(e.target.value)),id:"unidade",defaultValue:E,className:"col-span-3 font-semibold"})]})]})}),(0,n.jsx)(u.FF,{className:"mt-4",children:(0,n.jsx)(u.sw,{children:(0,n.jsxs)("div",{className:"flex justify-between px-2",children:[(0,n.jsx)(f.Z,{size:40,onClick:()=>D(r),color:"red"}),(0,n.jsx)(m.Z,{size:40,onClick:async()=>{await h(r,b,N,E||0),C({id:r,lote:b,quantidade:N,unidade:E||0})},color:"green"})]})})})]})]})})}function g(){let e=(0,a.bf)(e=>e.produtos);return(0,n.jsx)("div",{children:e&&(0,n.jsx)("div",{className:"grid gap-2 py-4",children:e.map((e,t)=>(0,n.jsx)(v,{item:e},t))})})}function v(e){let{item:t}=e;return(0,n.jsx)("div",{className:"",children:(0,n.jsx)(i.Zb,{children:(0,n.jsxs)(i.aY,{className:"flex flex-col justify-center p-3 gap-2 bg-slate-100/90",children:[(0,n.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,n.jsx)(i.ll,{className:"text-lg",children:t.sku}),(0,n.jsx)(i.SZ,{children:t.descricao})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(o._,{className:"text-xs font-semibold",children:["Lote: ",t.lote]}),(0,n.jsxs)(o._,{className:"text-lg font-semibold",children:["Cx:",t.caixas]}),(0,n.jsx)(j,{demandaId:t.demandaId?t.demandaId:0,endereco:t.endereco,id:t.id,lote:t.lote,quantidade:t.caixas,sku:t.sku,unidade:t.unidade,descricao:t.descricao,empresa:t.empresa,children:(0,n.jsx)(d.Z,{})})]})]})})})}function b(){let[e,t]=(0,x.useState)([]);async function r(){let e=await (0,p.U2)("sincronizacaoContagem");e&&t(e)}return(0,x.useEffect)(()=>{r()},[]),(0,n.jsx)("div",{children:e.map(e=>(0,n.jsxs)("div",{className:"flex justify-between items-center p-2   ",children:[(0,n.jsx)("div",{children:e.endereco}),(0,n.jsx)("div",{children:e.sku})]}))})}var y=r(575),N=r(4359);function w(e){let{funcao:t}=e,[r,s]=(0,x.useState)(null);return(0,x.useEffect)(()=>{let e=new N.t2("reader");e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},function(r){t(r),e.stop()},function(e){console.warn(e)})},[]),r?(0,n.jsxs)("div",{children:["Sucess: ",r]}):(0,n.jsx)("div",{id:"reader"})}var E=r(3929),S=r(7461);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let D=(0,S.Z)("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);function C(e){let{funcao:t}=e,[r,s]=x.useState(350);return(0,n.jsxs)(E.dy,{children:[(0,n.jsx)(E.Qz,{asChild:!0,children:(0,n.jsx)(D,{size:50,className:" p-2"})}),(0,n.jsx)(E.sc,{children:(0,n.jsxs)("div",{className:"mx-auto w-full max-w-sm",children:[(0,n.jsxs)(E.OX,{children:[(0,n.jsx)(E.iI,{children:"Ler QRCode"}),(0,n.jsx)(E.u6,{children:"Scannear QR Code."})]}),(0,n.jsx)(w,{funcao:t}),(0,n.jsxs)(E.ze,{children:[(0,n.jsx)(E.uh,{asChild:!0,children:(0,n.jsx)(y.z,{children:"Submit"})}),(0,n.jsx)(E.uh,{asChild:!0,children:(0,n.jsx)(y.z,{variant:"outline",children:"Cancel"})})]})]})})]})}var k=r(248);let R=async e=>{let t=await (0,p.U2)("produtos");return!!t&&t.some(t=>t.sku===parseInt(e))},z=async e=>{let t=await (0,p.U2)("endereco");return!!t&&t.some(t=>t.endereco===e)},O=k.z.object({sku:k.z.string().refine(R,{message:"errado"}),lote:k.z.string(),caixas:k.z.number(),desc:k.z.string().optional(),unidade:k.z.number(),endereco:k.z.string().refine(z,{message:"Endere\xe7o incorreto"})});var I=r(2670),_=function(e){var t=e.as,r=e.errors,n=e.name,s=e.message,a=e.render,i=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(s[r]=e[r]);return s}(e,["as","errors","name","message","render"]),o=(0,I.Gc)(),d=(0,I.U2)(r||o.formState.errors,n);if(!d)return null;var l=d.message,c=d.types,u=Object.assign({},i,{children:l||s});return x.isValidElement(t)?x.cloneElement(t,u):a?a({message:l||s,messages:c}):x.createElement(t||x.Fragment,u)},U=r(1270),A=r(7437);async function P(e,t,r){let n=await (0,p.U2)(r);if(n){let s=n.filter(r=>r[t]===e)[0];if(s){if("endereco"===r)return{endereco:s.endereco,idDemanda:s.idDemanda,idEndereco:s.idEndereco,id:s.id,visitado:s.visitado};if("produtos"===r)return{sku:s.desc,tipo:s.tipo,empresa:s.empresa}}}return null}var T=r(1231),V=r(7724);let q=k.z.object({sif:k.z.string(),dataRef:k.z.string(),identificador:k.z.string().optional()});function M(e){let{valueDisable:t,setValue:r,empresa:s="lactalis"}=e,{register:a,handleSubmit:i,reset:o}=(0,I.cI)({resolver:(0,U.F)(q)});return(0,n.jsxs)(u.yo,{children:[(0,n.jsx)(u.aM,{disabled:t,children:(0,n.jsx)(V.Z,{})}),(0,n.jsx)(u.ue,{className:"w-full",children:(0,n.jsxs)(u.Tu,{children:[(0,n.jsx)(u.bC,{children:"Lote"}),(0,n.jsx)(u.Ei,{children:(0,n.jsxs)("form",{className:"flex flex-col gap-1",onSubmit:i(e=>{switch(s){case"dpa":let t=e.dataRef.split("-"),n=new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2])),a=new Date(n.getFullYear(),0,1),i=(Math.ceil((n.getTime()-a.getTime())/864e5)+1).toString().padStart(3,"0");return r("".concat(e.dataRef[3]).concat(i).concat(e.sif).concat(e.identificador?e.identificador:"")),o(),{};case"itambe":return console.log("teste"),{};case"lactalis":let d=e.dataRef.replace(/-/g,"");r("".concat(e.sif).concat(d.substring(2))),o();break;default:return s}}),children:[(0,n.jsx)(l.I,{texto:"SIF",...a("sif")}),(0,n.jsx)(l.I,{texto:"Fabrica\xe7\xe3o",...a("dataRef"),type:"date"}),"dpa"===s&&(0,n.jsx)(l.I,{texto:"Verificador",...a("identificador")}),(0,n.jsxs)("div",{className:"flex gap-4 justify-center m-2",children:[(0,n.jsx)(y.z,{type:"button",children:"Limpar"}),(0,n.jsx)(u.sw,{children:(0,n.jsx)(y.z,{type:"submit",children:"Cadastrar"})})]})]})})]})})]})}/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Z=(0,S.Z)("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);function F(){let[e,t]=(0,x.useState)(""),[r,s]=(0,x.useState)([]),i=(0,a.bf)(e=>e.ADD_PRODUTO_PESO);async function o(){isNaN(parseFloat(e))||(s(t=>[...t,{id:(0,T.Z)(),peso:parseFloat(e)}]),t(""))}async function d(e){s(r.filter(t=>t.id!==e))}return(0,n.jsx)("div",{children:(0,n.jsxs)(u.yo,{children:[(0,n.jsx)(u.aM,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2 p-2 mt-2",children:[(0,n.jsx)(Z,{}),(0,n.jsx)("span",{children:"Cadastrar Peso"})]})}),(0,n.jsx)(u.ue,{className:"w-full",children:(0,n.jsxs)(u.Tu,{children:[(0,n.jsx)(u.bC,{children:"PESO VARIAVEL"}),(0,n.jsxs)(u.Ei,{children:[(0,n.jsx)(l.I,{value:e,onChange:e=>{""!==e.target.value?t(e.target.value):t("")},texto:"peso"}),(0,n.jsx)(y.z,{onClick:o,children:"Add"}),(0,n.jsx)(u.sw,{asChild:!0,children:(0,n.jsx)(y.z,{onClick:function(){r.length>0&&i(r.reduce((e,t)=>e+=t.peso,0)/r.length)},children:"somar"})}),(0,n.jsx)("div",{className:"mt-4",children:r.map((e,t)=>(0,n.jsxs)("div",{className:"px-4 py-6 bg-primary-foreground flex justify-between w-full m-1 items-center rounded",children:[(0,n.jsx)("span",{children:e.peso}),(0,n.jsx)(f.Z,{onClick:()=>d(e.id)})]}))})]})]})})]})})}function L(e){let{setOpen:t,open:r,children:s}=e,[a,i]=x.useState(350);return(0,n.jsxs)(E.dy,{open:r,onOpenChange:t,children:[(0,n.jsx)(E.Qz,{asChild:!0,onClick:()=>t(!0),children:(0,n.jsx)(D,{size:50,className:" p-2"})}),(0,n.jsx)(E.sc,{children:(0,n.jsxs)("div",{className:"mx-auto w-full max-w-sm",children:[(0,n.jsxs)(E.OX,{children:[(0,n.jsx)(E.iI,{children:"Ler QRCode"}),(0,n.jsx)(E.u6,{children:"Scannear QR Code."})]}),s,(0,n.jsxs)(E.ze,{children:[(0,n.jsx)(E.uh,{asChild:!0,onClick:()=>t(!1),children:(0,n.jsx)(y.z,{children:"Submit"})}),(0,n.jsx)(E.uh,{asChild:!0,children:(0,n.jsx)(y.z,{variant:"outline",children:"Cancel"})})]})]})}),(0,n.jsx)(E.P1,{onClick:()=>t(!1)})]})}function Q(e){let{ajustarLote:t,open:r,setOpen:s}=e,[a,i]=(0,x.useState)(null);async function o(e){let t=await (0,p.U2)("produtos");if(t){let r=t.filter(t=>t.sku===parseInt(e)||t.ean===e||t.dum===e)[0];if(r)return r.sku}return null}return(0,x.useEffect)(()=>{let e=new N.t2("reader");async function r(r){let n=await o(r);t(n),console.log(n),e.stop(),s(!1),i(r)}e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},r,function(e){console.warn(e)})},[]),a?(0,n.jsxs)("div",{children:["Sucess: ",a]}):(0,n.jsx)("div",{id:"reader"})}let W=(0,r(2020).Ue)(e=>({qrCodEndereco:!1,qrCodeSku:!1,UPDATE_QR_SKU(t){e(e=>({qrCodEndereco:e.qrCodEndereco,qrCodeSku:t}))},UPDATE_QR_ENDERECO(t){e(e=>({qrCodEndereco:t,qrCodeSku:e.qrCodeSku}))}}));function Y(e){let{ajustarLote:t,open:r,setOpen:s}=e,[a,i]=(0,x.useState)(null),o=W(e=>e.UPDATE_QR_SKU);async function d(e){let t=await (0,p.U2)("endereco");if(t){let r=t.filter(t=>t.endereco===e)[0];if(r)return r.endereco}return null}return(0,x.useEffect)(()=>{let e=new N.t2("reader");async function r(r){t(await d(r)),e.stop(),s(!1),setTimeout(function(){o(!0)},1e3),i(r)}e.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},r,function(e){console.warn(e)})},[]),a?(0,n.jsxs)("div",{children:["Sucess: ",a]}):(0,n.jsx)("div",{id:"reader"})}function H(){let[e,t]=(0,x.useState)(!1),[r,s]=(0,x.useState)(!1),i=W(e=>e.UPDATE_QR_ENDERECO),o=W(e=>e.qrCodEndereco),d=W(e=>e.UPDATE_QR_SKU),l=W(e=>e.qrCodeSku),{register:c,handleSubmit:u,reset:f,setValue:m,formState:{errors:p}}=(0,I.cI)({resolver:(0,U.F)(O)}),h=(0,a.bf)(e=>e.ADD_PRODUTO_SINGLE),j=(0,a.bf)(e=>e.ADD_PRODUTO),g=(0,a.bf)(e=>e.produto);async function v(e){console.log(e);let t=(0,T.Z)();await h({...e,id:t}),j({...g}),f()}function b(e){m("sku",e)}return(0,n.jsxs)("div",{children:[(0,n.jsx)(A.Ix,{}),(0,n.jsxs)("form",{onSubmit:u(v),className:"flex flex-col gap-1 w-full p-2",children:[(0,n.jsx)(K,{label:"Endere\xe7o",name:"endereco",register:c,required:!1,qrCode:!0,errors:p}),(0,n.jsx)(K,{label:"Sku",name:"sku",register:c,required:!1,qrCode:!0,errors:p,setValue:m}),(0,n.jsxs)(L,{open:o,setOpen:i,children:[(0,n.jsx)("div",{className:"bg-red-400 p-2 rounded",children:"ENDERECO"}),(0,n.jsx)(Y,{ajustarLote:function(e){m("endereco",e)},open:o,setOpen:i})]}),(0,n.jsxs)(L,{open:l,setOpen:d,children:[(0,n.jsx)("div",{className:"bg-blue-400 p-2 rounded",children:"SKU"}),(0,n.jsx)(Q,{ajustarLote:b,open:l,setOpen:d})]}),(0,n.jsx)(K,{label:"Descri\xe7\xe3o",name:"desc",register:c,required:!1,errors:p,setValue:m,disabled:!0}),(0,n.jsxs)("div",{className:"flex justify-between w-5/6 items-center gap-2",children:[(0,n.jsx)(K,{label:"Lote",name:"lote",register:c,required:!1}),(0,n.jsx)(M,{valueDisable:!1,setValue:b,empresa:g.empresa})]}),(0,n.jsx)(K,{label:"Caixa",name:"caixas",register:c,required:!1,numerico:!0}),(0,n.jsx)(K,{label:"Unidade",name:"unidade",register:c,required:!1,numerico:!0}),"PVAR"===g.tipo&&(0,n.jsxs)("div",{className:"flex justify-between items-center rounded p-2 m-1 bg-primary-foreground",children:[(0,n.jsx)(F,{}),"peso medio: ",g.peso]}),(0,n.jsx)(y.z,{className:"mt-4 py-6",type:"submit",children:"Cadastrar"})]})]})}let K=e=>{let{label:t,name:r,register:s,onBlur:i,required:o,errors:d,qrCode:c,numerico:u=!1,setValue:f,disabled:m}=e,x=(0,a.bf)(e=>e.ADD_DESC_EMPRESA),p=(0,a.bf)(e=>e.ADD_ID_ENDERECO);async function h(e){if("sku"===r){let t=await P(parseInt(e),"sku","produtos");t&&(console.log({passei:e}),f&&(f("desc",t.sku),x({desc:t.sku,sku:e,empresa:t.empresa,tipo:t.tipo})))}if("endereco"===r){let t=await P(e,"endereco","endereco");t&&p({endereco:t.endereco,idEndereco:t.idEndereco})}}return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex m-0 justify-between items-center",children:[(0,n.jsx)(l.I,{disabled:m,texto:t,...s(r,{required:o,valueAsNumber:u}),onBlur:e=>h(e.target.value)}),c&&(0,n.jsx)(C,{funcao:function(e){f&&f("sku",e)}})]}),d&&(0,n.jsx)(_,{errors:d,name:r,render:e=>{let{message:t}=e;return(0,n.jsx)("p",{children:t})}})]})};function B(){let e=(0,a.bf)(e=>e.produto);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-center p-2 m-1 bg-primary rounded text-secondary font-bold text-xl",children:["ID: ",e.demandaId]}),(0,n.jsxs)(s.mQ,{defaultValue:"conferencia",className:"",children:[(0,n.jsxs)(s.dr,{className:" w-full py-6 bg-green-400  grid-cols-3",children:[(0,n.jsx)(s.SP,{value:"conferencia",children:"Contagem"}),(0,n.jsx)(s.SP,{value:"lista",children:"Contados"}),(0,n.jsx)(s.SP,{value:"sincronizar",children:"Sincronizar"}),(0,n.jsx)(s.SP,{value:"finalizar",children:"Finalizar"})]}),(0,n.jsx)(s.nU,{value:"conferencia",children:(0,n.jsx)(H,{})}),(0,n.jsx)(s.nU,{value:"lista",children:(0,n.jsx)(g,{})}),(0,n.jsx)(s.nU,{value:"sincronizar",children:(0,n.jsx)("div",{children:(0,n.jsx)(b,{})})})]})]})}},7246:function(e,t,r){"use strict";r.d(t,{bf:function(){return s}});var n=r(2020);(0,n.Ue)(e=>({pagina:"",SET_PAGE(t){e(e=>({pagina:t}))}}));let s=(0,n.Ue)(e=>({produto:{caixas:0,demandaId:0,endereco:"",id:"",lote:"",sku:""},produtos:[],ADD_PRODUTO_PESO(t){e(e=>({produto:{...e.produto,peso:t},produtos:[...e.produtos]}))},ADD_ID_DEMANDA(t){e(e=>({produto:{...e.produto,demandaId:t},produtos:[...e.produtos]}))},ADD_ID_ENDERECO(t){e(e=>({produto:{...e.produto,idEndereco:t.idEndereco,endereco:t.endereco},produtos:[...e.produtos]}))},ADD_DESC_EMPRESA(t){e(e=>({produto:{...e.produto,sku:t.sku,descricao:t.desc,empresa:t.empresa,tipo:t.tipo},produtos:[...e.produtos]}))},ADD_PRODUTO_SINGLE(t){e(e=>({produto:{...e.produto,sku:t.sku,id:t.id,caixas:t.caixas,endereco:t.endereco,lote:t.lote,descricao:t.descricao,unidade:t.unidade},produtos:[...e.produtos]}))},ADD_PRODUTO(t){e(e=>({produto:{...e.produto},produtos:[...e.produtos,t]}))},REMOVE_PRODUTO(t){e(e=>({produto:{...e.produto},produtos:e.produtos.filter(e=>e.id!==t)}))},UPDATE_PRODUTO(t){e(e=>({produto:{...e.produto},produtos:e.produtos.map(e=>e.id===t.id?{...e,lote:t.lote,quantidade:t.quantidade,unidade:t.unidade}:e)}))}}));(0,n.Ue)(e=>({idDemanda:null,SET_DEMANDA(t){e(e=>({idDemanda:t.demanda}))}}))},9586:function(e,t,r){"use strict";r.d(t,{WV:function(){return o},jH:function(){return d}});var n=r(2110),s=r(4090),a=r(9542),i=r(9143);let o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,s.forwardRef)((e,r)=>{let{asChild:a,...o}=e,d=a?i.g7:t;return(0,s.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,s.createElement)(d,(0,n.Z)({},o,{ref:r}))});return r.displayName="Primitive.".concat(t),{...e,[t]:r}},{});function d(e,t){e&&(0,a.flushSync)(()=>e.dispatchEvent(t))}},1014:function(e,t,r){"use strict";r.d(t,{f:function(){return c}});var n=r(2110),s=r(4090),a=r(9586);let i="horizontal",o=["horizontal","vertical"],d=(0,s.forwardRef)((e,t)=>{let{decorative:r,orientation:o=i,...d}=e,c=l(o)?o:i;return(0,s.createElement)(a.WV.div,(0,n.Z)({"data-orientation":c},r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},d,{ref:t}))});function l(e){return o.includes(e)}d.propTypes={orientation(e,t,r){let n=e[t],s=String(n);return n&&!l(n)?Error("Invalid prop `orientation` of value `".concat(s,"` supplied to `").concat(r,"`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to `").concat(i,"`.")):null}};let c=d},2020:function(e,t,r){"use strict";r.d(t,{Ue:function(){return f}});let n=e=>{let t;let r=new Set,n=(e,n)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,a={setState:n,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},i=t=e(n,s,a);return a},s=e=>e?n(e):n;var a=r(4090),i=r(9292);let{useDebugValue:o}=a,{useSyncExternalStoreWithSelector:d}=i,l=!1,c=e=>e,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?s(e):e,r=(e,r)=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r=arguments.length>2?arguments[2]:void 0;r&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let n=d(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return o(n),n})(t,e,r);return Object.assign(r,t),r},f=e=>e?u(e):u}},function(e){e.O(0,[52,363,35,908,571,298,971,362,744],function(){return e(e.s=6089)}),_N_E=e.O()}]);