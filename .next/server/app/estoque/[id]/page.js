(()=>{var e={};e.id=990,e.ids=[990],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},92613:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=t(50482),a=t(69108),i=t(62563),n=t.n(i),d=t(68300),o={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);t.d(s,o);let l=["",{children:["estoque",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,46937)),"/Users/carlos/Library/Mobile Documents/com~apple~CloudDocs/carlos/WMS/front/pwa/src/app/estoque/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,35513)),"/Users/carlos/Library/Mobile Documents/com~apple~CloudDocs/carlos/WMS/front/pwa/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/carlos/Library/Mobile Documents/com~apple~CloudDocs/carlos/WMS/front/pwa/src/app/estoque/[id]/page.tsx"],u="/estoque/[id]/page",f={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/estoque/[id]/page",pathname:"/estoque/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},59188:(e,s,t)=>{Promise.resolve().then(t.bind(t,20707))},5094:(e,s,t)=>{"use strict";t.d(s,{z:()=>l});var r=t(95344),a=t(3729),i=t(32751),n=t(88720),d=t(11453);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...n},l)=>{let c=a?i.g7:"button";return r.jsx(c,{className:(0,d.cn)(o({variant:s,size:t,className:e})),ref:l,...n})});l.displayName="Button"},23673:(e,s,t)=>{"use strict";t.d(s,{SZ:()=>o,Zb:()=>n,aY:()=>l,ll:()=>d});var r=t(95344),a=t(3729),i=t(11453);let n=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s})).displayName="CardHeader";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));l.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},20677:(e,s,t)=>{"use strict";t.d(s,{OX:()=>p,P1:()=>u,Qz:()=>o,dy:()=>d,iI:()=>m,sc:()=>f,u6:()=>h,uh:()=>c,ze:()=>x});var r=t(95344),a=t(3729),i=t(24885),n=t(11453);let d=({shouldScaleBackground:e=!0,...s})=>r.jsx(i.d.Root,{shouldScaleBackground:e,...s});d.displayName="Drawer";let o=i.d.Trigger,l=i.d.Portal,c=i.d.Close,u=a.forwardRef(({className:e,...s},t)=>r.jsx(i.d.Overlay,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80",e),...s}));u.displayName=i.d.Overlay.displayName;let f=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(l,{children:[r.jsx(u,{}),(0,r.jsxs)(i.d.Content,{ref:a,className:(0,n.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[r.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),s]})]}));f.displayName="DrawerContent";let p=({className:e,...s})=>r.jsx("div",{className:(0,n.cn)("grid gap-1.5 p-4 text-center sm:text-left",e),...s});p.displayName="DrawerHeader";let x=({className:e,...s})=>r.jsx("div",{className:(0,n.cn)("mt-auto flex flex-col gap-2 p-4",e),...s});x.displayName="DrawerFooter";let m=a.forwardRef(({className:e,...s},t)=>r.jsx(i.d.Title,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));m.displayName=i.d.Title.displayName;let h=a.forwardRef(({className:e,...s},t)=>r.jsx(i.d.Description,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));h.displayName=i.d.Description.displayName},46540:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var r=t(95344),a=t(3729),i=t(11453);let n=a.forwardRef(({texto:e,className:s,type:t,...a},n)=>(0,r.jsxs)("div",{className:"flex focus-visible:p-2 focus:p-2 items-center gap-2 h-14 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",children:[r.jsx("div",{className:"font-bold",children:e}),r.jsx("input",{type:t,className:(0,i.cn)("selection:animate-none text-center align-middle justify-center file:text-center file:justify-center file:items-center outline-none w-full h-12 file:bg-lime-200",s),ref:n,...a})]}));n.displayName="Input"},7361:(e,s,t)=>{"use strict";t.d(s,{_:()=>l});var r=t(95344),a=t(3729),i=t(14217),n=t(88720),d=t(11453);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...s},t)=>r.jsx(i.f,{ref:t,className:(0,d.cn)(o(),e),...s}));l.displayName=i.f.displayName},50909:(e,s,t)=>{"use strict";t.d(s,{Z:()=>f});var r=t(95344),a=t(3729),i=t(65651),n=t(62409);let d="horizontal",o=["horizontal","vertical"],l=(0,a.forwardRef)((e,s)=>{let{decorative:t,orientation:r=d,...o}=e,l=c(r)?r:d;return(0,a.createElement)(n.WV.div,(0,i.Z)({"data-orientation":l},t?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},o,{ref:s}))});function c(e){return o.includes(e)}l.propTypes={orientation(e,s,t){let r=e[s],a=String(r);return r&&!c(r)?Error(`Invalid prop \`orientation\` of value \`${a}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${d}\`.`):null}};var u=t(11453);let f=a.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...a},i)=>r.jsx(l,{ref:i,decorative:t,orientation:s,className:(0,u.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...a}));f.displayName=l.displayName},47193:(e,s,t)=>{"use strict";t.d(s,{Ei:()=>b,FF:()=>j,Tu:()=>h,aM:()=>c,bC:()=>g,sw:()=>u,ue:()=>m,yo:()=>l});var r=t(95344),a=t(3729),i=t(88794),n=t(88720),d=t(14513),o=t(11453);let l=i.fC,c=i.xz,u=i.x8,f=i.h_,p=a.forwardRef(({className:e,...s},t)=>r.jsx(i.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));p.displayName=i.aV.displayName;let x=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),m=a.forwardRef(({side:e="right",className:s,children:t,...a},n)=>(0,r.jsxs)(f,{children:[r.jsx(p,{}),(0,r.jsxs)(i.VY,{ref:n,className:(0,o.cn)(x({side:e}),s),...a,children:[t,(0,r.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(d.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=i.VY.displayName;let h=({className:e,...s})=>r.jsx("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});h.displayName="SheetHeader";let j=({className:e,...s})=>r.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});j.displayName="SheetFooter";let g=a.forwardRef(({className:e,...s},t)=>r.jsx(i.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",e),...s}));g.displayName=i.Dx.displayName;let b=a.forwardRef(({className:e,...s},t)=>r.jsx(i.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...s}));b.displayName=i.dk.displayName},51467:(e,s,t)=>{"use strict";t.d(s,{SP:()=>l,dr:()=>o,mQ:()=>d,nU:()=>c});var r=t(95344),a=t(3729),i=t(24931),n=t(11453);let d=i.fC,o=a.forwardRef(({className:e,...s},t)=>r.jsx(i.aV,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));o.displayName=i.aV.displayName;let l=a.forwardRef(({className:e,...s},t)=>r.jsx(i.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));l.displayName=i.xz.displayName;let c=a.forwardRef(({className:e,...s},t)=>r.jsx(i.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));c.displayName=i.VY.displayName},20707:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>K});var r=t(95344),a=t(51467),i=t(52337),n=t(23673),d=t(7361),o=t(31741),l=t(46540),c=t(50909),u=t(47193),f=t(38271),p=t(64290),x=t(3729),m=t(37707);async function h(e,s,t,r){let a=await (0,m.U2)("sincronizacaoContagem");if(a){let i=a.map(a=>a.id===e?{...a,lote:s,caixas:t,unidade:r}:a);(0,m.Vx)("sincronizacaoContagem",()=>i)}}function j({demandaId:e,id:s,endereco:t,sku:a,empresa:n,descricao:d,lote:o,quantidade:m,unidade:j,children:g}){let[b,v]=(0,x.useState)(o),[y,N]=(0,x.useState)(m),[w,C]=(0,x.useState)(j),D=(0,i.bf)(e=>e.REMOVE_PRODUTO),E=(0,i.bf)(e=>e.UPDATE_PRODUTO);return r.jsx("div",{className:"flex relative",children:(0,r.jsxs)(u.yo,{children:[r.jsx(u.aM,{asChild:!0,children:g}),(0,r.jsxs)(u.ue,{side:"top",children:[(0,r.jsxs)(u.Tu,{className:"bg-secondary flex flex-col justify-center items-center mt-2 rounded py-2",children:[r.jsx(u.bC,{className:"uppercase",children:"Editar Item"}),r.jsx(c.Z,{}),r.jsx(u.bC,{className:"uppercase",children:d})]}),r.jsx("div",{className:"px-2 py-4 border rounded",children:(0,r.jsxs)("div",{className:"grid gap-1",children:[r.jsx("div",{className:"grid items-center gap-4 ",children:r.jsx(l.I,{disabled:!0,texto:"SKU:",id:"sku",defaultValue:a,className:"col-span-3 font-semibold"})}),r.jsx("div",{className:"grid items-center gap-2",children:r.jsx(l.I,{texto:"LOTE:",onChange:e=>v(e.target.value),id:"lote",defaultValue:b,className:"col-span-3 font-semibold"})}),(0,r.jsxs)("div",{className:"grid items-center gap-2",children:[r.jsx(l.I,{texto:"CAIXAS:",onChange:e=>N(parseInt(e.target.value)),id:"quantidade",defaultValue:y,className:"col-span-3 font-semibold"}),r.jsx(l.I,{texto:"UNIDADES:",onChange:e=>C(parseInt(e.target.value)),id:"unidade",defaultValue:w,className:"col-span-3 font-semibold"})]})]})}),r.jsx(u.FF,{className:"mt-4",children:r.jsx(u.sw,{children:(0,r.jsxs)("div",{className:"flex justify-between px-2",children:[r.jsx(f.Z,{size:40,onClick:()=>D(s),color:"red"}),r.jsx(p.Z,{size:40,onClick:async()=>{await h(s,b,y,w||0),E({id:s,lote:b,quantidade:y,unidade:w||0})},color:"green"})]})})})]})]})})}function g(){let e=(0,i.bf)(e=>e.produtos);return r.jsx("div",{children:e&&r.jsx("div",{className:"grid gap-2 py-4",children:e.map((e,s)=>r.jsx(b,{item:e},s))})})}function b({item:e}){return r.jsx("div",{className:"",children:r.jsx(n.Zb,{children:(0,r.jsxs)(n.aY,{className:"flex flex-col justify-center p-3 gap-2 bg-slate-100/90",children:[(0,r.jsxs)("div",{className:"flex gap-4 justify-between",children:[r.jsx(n.ll,{className:"text-lg",children:e.sku}),r.jsx(n.SZ,{children:e.descricao})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(d._,{className:"text-xs font-semibold",children:["Lote: ",e.lote]}),(0,r.jsxs)(d._,{className:"text-lg font-semibold",children:["Cx:",e.caixas]}),r.jsx(j,{demandaId:e.demandaId?e.demandaId:0,endereco:e.endereco,id:e.id,lote:e.lote,quantidade:e.caixas,sku:e.sku,unidade:e.unidade,descricao:e.descricao,empresa:e.empresa,children:r.jsx(o.Z,{})})]})]})})})}function v(){let[e,s]=(0,x.useState)([]);async function t(){let e=await (0,m.U2)("sincronizacaoContagem");e&&s(e)}return(0,x.useEffect)(()=>{t()},[]),r.jsx("div",{children:e.map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-2   ",children:[r.jsx("div",{children:e.endereco}),r.jsx("div",{children:e.sku})]}))})}var y=t(5094),N=t(40337);function w({funcao:e}){let[s,t]=(0,x.useState)(null);return(0,x.useEffect)(()=>{let s=new N.t2("reader");s.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},function(t){e(t),s.stop()},function(e){console.warn(e)})},[]),s?(0,r.jsxs)("div",{children:["Sucess: ",s]}):r.jsx("div",{id:"reader"})}var C=t(20677),D=t(69224);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let E=(0,D.Z)("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);function k({funcao:e}){let[s,t]=x.useState(350);return(0,r.jsxs)(C.dy,{children:[r.jsx(C.Qz,{asChild:!0,children:r.jsx(E,{size:50,className:" p-2"})}),r.jsx(C.sc,{children:(0,r.jsxs)("div",{className:"mx-auto w-full max-w-sm",children:[(0,r.jsxs)(C.OX,{children:[r.jsx(C.iI,{children:"Ler QRCode"}),r.jsx(C.u6,{children:"Scannear QR Code."})]}),r.jsx(w,{funcao:e}),(0,r.jsxs)(C.ze,{children:[r.jsx(C.uh,{asChild:!0,children:r.jsx(y.z,{children:"Submit"})}),r.jsx(C.uh,{asChild:!0,children:r.jsx(y.z,{variant:"outline",children:"Cancel"})})]})]})})]})}var S=t(29709);let R=async e=>{let s=await (0,m.U2)("produtos");return!!s&&s.some(s=>s.sku===parseInt(e))},q=async e=>{let s=await (0,m.U2)("endereco");return!!s&&s.some(s=>s.endereco===e)},z=S.z.object({sku:S.z.string().refine(R,{message:"errado"}),lote:S.z.string(),caixas:S.z.number(),desc:S.z.string().optional(),unidade:S.z.number(),endereco:S.z.string().refine(q,{message:"Endere\xe7o incorreto"})});var _=t(60708),P=function(e){var s=e.as,t=e.errors,r=e.name,a=e.message,i=e.render,n=function(e,s){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)s.indexOf(t=i[r])>=0||(a[t]=e[t]);return a}(e,["as","errors","name","message","render"]),d=(0,_.Gc)(),o=(0,_.U2)(t||d.formState.errors,r);if(!o)return null;var l=o.message,c=o.types,u=Object.assign({},n,{children:l||a});return x.isValidElement(s)?x.cloneElement(s,u):i?i({message:l||a,messages:c}):x.createElement(s||x.Fragment,u)},O=t(85453),U=t(18671);async function I(e,s,t){let r=await (0,m.U2)(t);if(r){let a=r.filter(t=>t[s]===e)[0];if(a){if("endereco"===t)return{endereco:a.endereco,idDemanda:a.idDemanda,idEndereco:a.idEndereco,id:a.id,visitado:a.visitado};if("produtos"===t)return{sku:a.desc,tipo:a.tipo,empresa:a.empresa}}}return null}var A=t(7892),M=t(32020);let T=S.z.object({sif:S.z.string(),dataRef:S.z.string(),identificador:S.z.string().optional()});function V({valueDisable:e,setValue:s,empresa:t="lactalis"}){let{register:a,handleSubmit:i,reset:n}=(0,_.cI)({resolver:(0,O.F)(T)});return(0,r.jsxs)(u.yo,{children:[r.jsx(u.aM,{disabled:e,children:r.jsx(M.Z,{})}),r.jsx(u.ue,{className:"w-full",children:(0,r.jsxs)(u.Tu,{children:[r.jsx(u.bC,{children:"Lote"}),r.jsx(u.Ei,{children:(0,r.jsxs)("form",{className:"flex flex-col gap-1",onSubmit:i(e=>{switch(t){case"dpa":let r=e.dataRef.split("-"),a=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2])),i=new Date(a.getFullYear(),0,1),d=(Math.ceil((a.getTime()-i.getTime())/864e5)+1).toString().padStart(3,"0");return s(`${e.dataRef[3]}${d}${e.sif}${e.identificador?e.identificador:""}`),n(),{};case"itambe":return console.log("teste"),{};case"lactalis":let o=e.dataRef.replace(/-/g,"");s(`${e.sif}${o.substring(2)}`),n();break;default:return t}}),children:[r.jsx(l.I,{texto:"SIF",...a("sif")}),r.jsx(l.I,{texto:"Fabrica\xe7\xe3o",...a("dataRef"),type:"date"}),"dpa"===t&&r.jsx(l.I,{texto:"Verificador",...a("identificador")}),(0,r.jsxs)("div",{className:"flex gap-4 justify-center m-2",children:[r.jsx(y.z,{type:"button",children:"Limpar"}),r.jsx(u.sw,{children:r.jsx(y.z,{type:"submit",children:"Cadastrar"})})]})]})})]})})]})}/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let L=(0,D.Z)("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);function Z(){let[e,s]=(0,x.useState)(""),[t,a]=(0,x.useState)([]),n=(0,i.bf)(e=>e.ADD_PRODUTO_PESO);async function d(){isNaN(parseFloat(e))||(a(s=>[...s,{id:(0,A.Z)(),peso:parseFloat(e)}]),s(""))}async function o(e){a(t.filter(s=>s.id!==e))}return r.jsx("div",{children:(0,r.jsxs)(u.yo,{children:[r.jsx(u.aM,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2 p-2 mt-2",children:[r.jsx(L,{}),r.jsx("span",{children:"Cadastrar Peso"})]})}),r.jsx(u.ue,{className:"w-full",children:(0,r.jsxs)(u.Tu,{children:[r.jsx(u.bC,{children:"PESO VARIAVEL"}),(0,r.jsxs)(u.Ei,{children:[r.jsx(l.I,{value:e,onChange:e=>{""!==e.target.value?s(e.target.value):s("")},texto:"peso"}),r.jsx(y.z,{onClick:d,children:"Add"}),r.jsx(u.sw,{asChild:!0,children:r.jsx(y.z,{onClick:function(){t.length>0&&n(t.reduce((e,s)=>e+=s.peso,0)/t.length)},children:"somar"})}),r.jsx("div",{className:"mt-4",children:t.map((e,s)=>(0,r.jsxs)("div",{className:"px-4 py-6 bg-primary-foreground flex justify-between w-full m-1 items-center rounded",children:[r.jsx("span",{children:e.peso}),r.jsx(f.Z,{onClick:()=>o(e.id)})]}))})]})]})})]})})}function F({setOpen:e,open:s,children:t}){let[a,i]=x.useState(350);return(0,r.jsxs)(C.dy,{open:s,onOpenChange:e,children:[r.jsx(C.Qz,{asChild:!0,onClick:()=>e(!0),children:r.jsx(E,{size:50,className:" p-2"})}),r.jsx(C.sc,{children:(0,r.jsxs)("div",{className:"mx-auto w-full max-w-sm",children:[(0,r.jsxs)(C.OX,{children:[r.jsx(C.iI,{children:"Ler QRCode"}),r.jsx(C.u6,{children:"Scannear QR Code."})]}),t,(0,r.jsxs)(C.ze,{children:[r.jsx(C.uh,{asChild:!0,onClick:()=>e(!1),children:r.jsx(y.z,{children:"Submit"})}),r.jsx(C.uh,{asChild:!0,children:r.jsx(y.z,{variant:"outline",children:"Cancel"})})]})]})}),r.jsx(C.P1,{onClick:()=>e(!1)})]})}function Q({ajustarLote:e,open:s,setOpen:t}){let[a,i]=(0,x.useState)(null);async function n(e){let s=await (0,m.U2)("produtos");if(s){let t=s.filter(s=>s.sku===parseInt(e)||s.ean===e||s.dum===e)[0];if(t)return t.sku}return null}return(0,x.useEffect)(()=>{let s=new N.t2("reader");async function r(r){let a=await n(r);e(a),console.log(a),s.stop(),t(!1),i(r)}s.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},r,function(e){console.warn(e)})},[]),a?(0,r.jsxs)("div",{children:["Sucess: ",a]}):r.jsx("div",{id:"reader"})}let G=(0,t(43158).Ue)(e=>({qrCodEndereco:!1,qrCodeSku:!1,UPDATE_QR_SKU(s){e(e=>({qrCodEndereco:e.qrCodEndereco,qrCodeSku:s}))},UPDATE_QR_ENDERECO(s){e(e=>({qrCodEndereco:s,qrCodeSku:e.qrCodeSku}))}}));function $({ajustarLote:e,open:s,setOpen:t}){let[a,i]=(0,x.useState)(null),n=G(e=>e.UPDATE_QR_SKU);async function d(e){let s=await (0,m.U2)("endereco");if(s){let t=s.filter(s=>s.endereco===e)[0];if(t)return t.endereco}return null}return(0,x.useEffect)(()=>{let s=new N.t2("reader");async function r(r){e(await d(r)),s.stop(),t(!1),setTimeout(function(){n(!0)},1e3),i(r)}s.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},r,function(e){console.warn(e)})},[]),a?(0,r.jsxs)("div",{children:["Sucess: ",a]}):r.jsx("div",{id:"reader"})}function Y(){let[e,s]=(0,x.useState)(!1),[t,a]=(0,x.useState)(!1),n=G(e=>e.UPDATE_QR_ENDERECO),d=G(e=>e.qrCodEndereco),o=G(e=>e.UPDATE_QR_SKU),l=G(e=>e.qrCodeSku),{register:c,handleSubmit:u,reset:f,setValue:p,formState:{errors:m}}=(0,_.cI)({resolver:(0,O.F)(z)}),h=(0,i.bf)(e=>e.ADD_PRODUTO_SINGLE),j=(0,i.bf)(e=>e.ADD_PRODUTO),g=(0,i.bf)(e=>e.produto);async function b(e){console.log(e);let s=(0,A.Z)();await h({...e,id:s}),j({...g}),f()}function v(e){p("sku",e)}return(0,r.jsxs)("div",{children:[r.jsx(U.Ix,{}),(0,r.jsxs)("form",{onSubmit:u(b),className:"flex flex-col gap-1 w-full p-2",children:[r.jsx(W,{label:"Endere\xe7o",name:"endereco",register:c,required:!1,qrCode:!0,errors:m}),r.jsx(W,{label:"Sku",name:"sku",register:c,required:!1,qrCode:!0,errors:m,setValue:p}),(0,r.jsxs)(F,{open:d,setOpen:n,children:[r.jsx("div",{className:"bg-red-400 p-2 rounded",children:"ENDERECO"}),r.jsx($,{ajustarLote:function(e){p("endereco",e)},open:d,setOpen:n})]}),(0,r.jsxs)(F,{open:l,setOpen:o,children:[r.jsx("div",{className:"bg-blue-400 p-2 rounded",children:"SKU"}),r.jsx(Q,{ajustarLote:v,open:l,setOpen:o})]}),r.jsx(W,{label:"Descri\xe7\xe3o",name:"desc",register:c,required:!1,errors:m,setValue:p,disabled:!0}),(0,r.jsxs)("div",{className:"flex justify-between w-5/6 items-center gap-2",children:[r.jsx(W,{label:"Lote",name:"lote",register:c,required:!1}),r.jsx(V,{valueDisable:!1,setValue:v,empresa:g.empresa})]}),r.jsx(W,{label:"Caixa",name:"caixas",register:c,required:!1,numerico:!0}),r.jsx(W,{label:"Unidade",name:"unidade",register:c,required:!1,numerico:!0}),"PVAR"===g.tipo&&(0,r.jsxs)("div",{className:"flex justify-between items-center rounded p-2 m-1 bg-primary-foreground",children:[r.jsx(Z,{}),"peso medio: ",g.peso]}),r.jsx(y.z,{className:"mt-4 py-6",type:"submit",children:"Cadastrar"})]})]})}let W=({label:e,name:s,register:t,onBlur:a,required:n,errors:d,qrCode:o,numerico:c=!1,setValue:u,disabled:f})=>{let p=(0,i.bf)(e=>e.ADD_DESC_EMPRESA),x=(0,i.bf)(e=>e.ADD_ID_ENDERECO);async function m(e){if("sku"===s){let s=await I(parseInt(e),"sku","produtos");s&&(console.log({passei:e}),u&&(u("desc",s.sku),p({desc:s.sku,sku:e,empresa:s.empresa,tipo:s.tipo})))}if("endereco"===s){let s=await I(e,"endereco","endereco");s&&x({endereco:s.endereco,idEndereco:s.idEndereco})}}return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex m-0 justify-between items-center",children:[r.jsx(l.I,{disabled:f,texto:e,...t(s,{required:n,valueAsNumber:c}),onBlur:e=>m(e.target.value)}),o&&r.jsx(k,{funcao:function(e){u&&u("sku",e)}})]}),d&&r.jsx(P,{errors:d,name:s,render:({message:e})=>r.jsx("p",{children:e})})]})};function K(){let e=(0,i.bf)(e=>e.produto);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-center p-2 m-1 bg-primary rounded text-secondary font-bold text-xl",children:["ID: ",e.demandaId]}),(0,r.jsxs)(a.mQ,{defaultValue:"conferencia",className:"",children:[(0,r.jsxs)(a.dr,{className:" w-full py-6 bg-green-400  grid-cols-3",children:[r.jsx(a.SP,{value:"conferencia",children:"Contagem"}),r.jsx(a.SP,{value:"lista",children:"Contados"}),r.jsx(a.SP,{value:"sincronizar",children:"Sincronizar"}),r.jsx(a.SP,{value:"finalizar",children:"Finalizar"})]}),r.jsx(a.nU,{value:"conferencia",children:r.jsx(Y,{})}),r.jsx(a.nU,{value:"lista",children:r.jsx(g,{})}),r.jsx(a.nU,{value:"sincronizar",children:r.jsx("div",{children:r.jsx(v,{})})})]})]})}},52337:(e,s,t)=>{"use strict";t.d(s,{bf:()=>a});var r=t(43158);(0,r.Ue)(e=>({pagina:"",SET_PAGE(s){e(e=>({pagina:s}))}}));let a=(0,r.Ue)(e=>({produto:{caixas:0,demandaId:0,endereco:"",id:"",lote:"",sku:""},produtos:[],ADD_PRODUTO_PESO(s){e(e=>({produto:{...e.produto,peso:s},produtos:[...e.produtos]}))},ADD_ID_DEMANDA(s){e(e=>({produto:{...e.produto,demandaId:s},produtos:[...e.produtos]}))},ADD_ID_ENDERECO(s){e(e=>({produto:{...e.produto,idEndereco:s.idEndereco,endereco:s.endereco},produtos:[...e.produtos]}))},ADD_DESC_EMPRESA(s){e(e=>({produto:{...e.produto,sku:s.sku,descricao:s.desc,empresa:s.empresa,tipo:s.tipo},produtos:[...e.produtos]}))},ADD_PRODUTO_SINGLE(s){e(e=>({produto:{...e.produto,sku:s.sku,id:s.id,caixas:s.caixas,endereco:s.endereco,lote:s.lote,descricao:s.descricao,unidade:s.unidade},produtos:[...e.produtos]}))},ADD_PRODUTO(s){e(e=>({produto:{...e.produto},produtos:[...e.produtos,s]}))},REMOVE_PRODUTO(s){e(e=>({produto:{...e.produto},produtos:e.produtos.filter(e=>e.id!==s)}))},UPDATE_PRODUTO(s){e(e=>({produto:{...e.produto},produtos:e.produtos.map(e=>e.id===s.id?{...e,lote:s.lote,quantidade:s.quantidade,unidade:s.unidade}:e)}))}}));(0,r.Ue)(e=>({idDemanda:null,SET_DEMANDA(s){e(e=>({idDemanda:s.demanda}))}}))},46937:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(25036);let a=(0,t(86843).createProxy)(String.raw`/Users/carlos/Library/Mobile Documents/com~apple~CloudDocs/carlos/WMS/front/pwa/src/pagina/estoque/contagem/2_ContagemEstoque/index.tsx`),{__esModule:i,$$typeof:n}=a,d=a.default;function o(){return r.jsx(d,{})}},73881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(70337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,941,337,286,166,671,232],()=>t(92613));module.exports=r})();